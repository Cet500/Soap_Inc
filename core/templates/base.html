<!DOCTYPE html>
<html lang="ru">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="description" content="Сайт про рукодельное мыло">
		<meta name="author" content="Sergo">

		<title>Soap Inc</title>

		<link rel="shortcut icon" href="{{ url_for( 'core.static', filename = 'favicon.ico' ) }}" type="image/x-icon">

		<!-- import global vars -->
		<link rel="stylesheet" href="{{ url_for( 'core.static', filename = 'css/src/global_vars.css' ) }}">
		<!-- import lib styles -->
		<link rel="stylesheet" href="{{ url_for( 'core.static', filename = 'css/lib/blocks.css' ) }}">
		<link rel="stylesheet" href="{{ url_for( 'core.static', filename = 'css/lib/buttons.css' ) }}">
		<link rel="stylesheet" href="{{ url_for( 'core.static', filename = 'css/lib/forms.css' ) }}">
		<link rel="stylesheet" href="{{ url_for( 'core.static', filename = 'css/lib/text.css' ) }}">
		<link rel="stylesheet" href="{{ url_for( 'core.static', filename = 'css/lib/tables.css' ) }}">
		<!-- import sub-lib styles -->
		<link rel="stylesheet" href="{{ url_for( 'core.static', filename = 'css/lib/colors.css' ) }}">
		<link rel="stylesheet" href="{{ url_for( 'core.static', filename = 'css/lib/sizes.css' ) }}">
		<!-- import main styles -->
		<link rel="stylesheet" href="{{ url_for( 'core.static', filename = 'css/src/global.css' ) }}">
		{% block page_style %}{% endblock %}
		<!-- import media styles -->
		<link rel="stylesheet" href="{{ url_for( 'core.static', filename = 'css/src/global_media.css' ) }}">

		{% if current_user.theme == "D" %}
		<link rel="stylesheet" href="{{ url_for( 'core.static', filename = 'css/src/global_dark.css' ) }}">
		{% endif %}

		<!-- import fonts Roboto -->
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gcore.static.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Mono:wght@300;400;500;600&family=Roboto:ital,wght@0,300;0,400;0,500;0,700;0,900;1,300;1,400&display=swap"
			  rel="stylesheet">

		<!-- import jquery -->
		<script src="{{ url_for( 'core.static', filename = 'js/ext/jquery-3.7.0.min.js' ) }}" defer></script>
		<script src="{{ url_for( 'core.static', filename = 'js/ext/jquery.storage.js' ) }}" defer></script>
		<script src="{{ url_for( 'core.static', filename = 'js/ext/jsrender.min.js' ) }}" defer></script>
		<!-- import scripts -->
		<script src="{{ url_for( 'core.static', filename = 'js/src/cart.js' ) }}" defer></script>
		<script src="{{ url_for( 'core.static', filename = 'js/src/cart-csr.js' ) }}" defer></script>
	</head>

	<body class="body">
		<header class="header">
			<div class="header__inner">
				<div class="header__logo logo logo-md">
					<img class="logo-image" src="{{ url_for( 'core.static', filename = 'img/logo.png' ) }}" alt="logo">

					<a class="logo-link" href="{{ url_for('core.index') }}">
						Мастерская мыла
					</a>
				</div>

				<nav class="nav">
					<a class="link" href="{{ url_for('core.catalog') }}">Каталог</a>
					<a class="link" href="{{ url_for('core.about') }}">О нас</a>
					<a class="link" href="{{ url_for('core.contacts') }}">Контакты</a>
				</nav>

				{% if current_user.is_authenticated %}

					<div class="header__user">
						<span class="text text-md">{{ current_user.name }}</span>
						<ul class="header__user-submenu">

							{% if current_user.theme == "L" %}

								<li>
									<a class="link" href="{{ url_for('api.to_dark') }}">Тема: Light</a>
								</li>

							{% else %}

								<li>
									<a class="link" href="{{ url_for('api.to_light') }}">Тема: Dark</a>
								</li>

							{% endif %}

							{% if current_user.role == "A" %}

								<li>
									<a class="link" href="{{ url_for('admin_panel.admin') }}">Админ-панель</a>
								</li>
								<li>
									<a class="link" href="{{ url_for('api.index') }}">API</a>
								</li>
								<li>
									<a class="link" href="{{ url_for('core.components') }}">Компоненты</a>
								</li>

							{% endif %}

							<li>
								<a class="link" href="{{ url_for('core.logout') }}">Выйти</a>
							</li>
						</ul>
					</div>

				{% else %}

					<div class="header__user">
						<span class="text text-md">Вход</span>
						<ul class="header__user-submenu">
							<li>
								<a class="link" href="{{ url_for('core.login') }}">Войти</a>
							</li>
							<li>
								<a class="link" href="{{ url_for('core.register') }}">Регистрация</a>
							</li>
						</ul>
					</div>

				{% endif %}

				<a class="header__cart btn btn-mc btn-round btn-bold btn-pink" href="{{ url_for('core.cart') }}">
					<img class="header__cart-icon" src="{{ url_for( 'core.static', filename = 'img/icons/cart.svg' ) }}"
						 alt="svg icon tel" aria-disabled="true">
					<span class="header__cart-text"> (<span class="header__cart-value scripts__soap-cost">0</span> ₽)</span>
				</a>
			</div>
		</header>

		<main class="main">
			{% block main %}{% endblock %}
		</main>

		{% block add_blocks %}{% endblock %}

		<footer class="footer">
			<div class="footer__inner">
				<div class="block block-footer">
					<div class="block-footer__col">
						<div class="logo logo-md">
							<img class="logo-image" src="{{ url_for( 'core.static', filename = 'img/logo.png' ) }}" alt="logo">

							<a class="logo-link" href="{{ url_for('core.index') }}">
								Мастерская мыла
							</a>
						</div>
					</div>

					<div class="block-footer__col">
						<h3 class="title title-h3">Каталог</h3>

						<a class="link" href="#">Мишки</a>
						<a class="link" href="#">Совушки</a>
						<a class="link" href="#">Амулеты</a>
						<a class="link" href="#">Собачки</a>
						<a class="link" href="#">Пингвины</a>
					</div>

					<div class="block-footer__col">
						<h3 class="title title-h3">Соцсети</h3>

						<a class="link" href="#">ВК</a>
						<a class="link" href="#">Телега</a>
					</div>

					<div class="block-footer__col">
						<p class="title title-h3">8 (800) 555-35-35</p>

						<p class="text text-md">Купи Skyrim.</p>

						<p class="text text-md">Ну купи.</p>

						<p class="text text-md">Нет причин не купить.</p>
					</div>
				</div>
			</div>
		</footer>

		{% block scripts %}{% endblock %}
	</body>
</html>